<div class="step step-recap">
  <div class="step-title">
    <h3>Merci {{ guest?.firstName }}&nbsp;. Voici le récapitulatif de vos réponses:</h3>
  </div>

  <div class="step-body">
    <p-table [columns]="cols" [value]="answers">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th *ngFor="let col of columns">
            <span class="centered">
              {{ col.header }}
            </span>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>
          <td *ngFor="let col of columns; let i = index">
            <span *ngIf="i === 0"> {{ rowData[col.field] }}</span>
            <span *ngIf="i !== 0" class="centered">
              <i class="pi" [ngClass]="rowData[col.field] ? 'pi-check' : 'pi-times'"></i>
            </span>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div class="step-footer">
    <button
      class="p-button-lg p-button-raised p-button-outlined"
      pButton
      type="button"
      label="Corriger"
      iconPos="left"
      icon="pi pi-angle-left"
      pRipple
      (click)="onPrevious(); $event.target.blur()"
      [disabled]="isSaving"
      [tabIndex]="isCurrentStep ? 0 : -1"
    ></button>
    <button
      class="p-button-lg p-button-raised"
      pButton
      type="button"
      label="Valider"
      iconPos="right"
      icon="pi pi-angle-right"
      pRipple
      (click)="save(); $event.target.blur()"
      [disabled]="isSaving"
      [tabIndex]="isCurrentStep ? 1 : -1"
    ></button>
  </div>
</div>

<p-confirmDialog appendTo="body"></p-confirmDialog>
